{% extends "base.html" %}

{% block content %}

<section>

  {% comment %} Model is hare {% endcomment %}
<!-- Modal -->
 <div class="flex items-center justify-center h-screen">
        <div class="w-full px-4 py-8 mx-auto shadow lg:w-1/3">
          <div class="flex items-center mb-6">
            <h1 class="mr-6 text-4xl font-bold text-purple-600"> TO DO APP</h1>
          </div>
          <form action="/" method="POST">
            {% csrf_token %}
           <div class="relative flex items-center justify-between px-2 py-6">
            <input name='todo' type="text" placeholder="What needs to be done today?"
              class="w-full px-2 py-3 mr-2  border rounded outline-none border-grey-600" />
              <button  class=" px-2 py-3 border-2 rounded ">ADD</button>
          </div>
        </form>
          <ul class="list-reset">

            {% for todo in todos %} 
            <div class="modal fade" id="exampleModal{{todo.uid}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-body">
                   
                    <form action="/update/{{todo.uid}}" method='POST'>
                      {% csrf_token %}
                      <div class="mb-3">
                        <h1>{{todo.uid}}</h1>
                        <label for="exampleInputEmail1" class="form-label">Put the Updated todo</label>
                        <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" name='mahasena'>
                        <input type="hidden" value={{todo.uid}} >
                      </div>  
                        <button type="submit" class="bg-yellow-400 py-2 px-3 rounded-lg">Update</button>
                    </form>
            
                  </div>
                </div>
              </div>
            </div>

            <li class="relative flex items-center justify-between px-2 py-6 border-b">
              <div>
                <input type="checkbox" class="" />
                <p  class="inline-block mt-1 text-gray-600"> {{todo.todo}}</p>
              </div>

              <div class="absolute right-0 flex items-center" data-bs-toggle="modal" data-bs-target="#exampleModal{{todo.uid}}">
                <button class="w-5 h-5 text-blue-600">
                  <svg xmlns="http://www.w3.org/2000/svg"  fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                  </svg>
                </button>

               <a href="/delete/{{todo.uid}}">
                {{todo.uid}}
                  <button class="w-5 h-5 text-red-700 ml-4">
                    <svg xmlns="http://www.w3.org/2000/svg"  fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                  </button>
               </a>
              </div>
            </li>
            {% endfor %}

            
            {% comment %} <li class="relative flex items-center justify-between px-2 py-6 border-b">
              <div>
                <input type="checkbox" class="" />
                <p  class="inline-block mt-1 text-gray-600 line-through">Tailwind CSS To DO App List 2</p>
              </div>
              <button type="button" class="absolute right-0 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-red-700" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </li> {% endcomment %}

          </ul>
        </div>
    </div>

</section>
{% endblock %}